import{a as N,b as s,c as P,d as M,h as A,i as y,j as F,k as O,m as T}from"./chunk-NNHY3WSJ.js";import{h as S}from"./chunk-6I7B6JFR.js";import{Db as o,Eb as C,Ga as r,Ma as b,Sa as h,Z as _,_ as x,bc as w,fb as l,fc as E,gb as d,jb as g,kb as i,lb as n,mb as u,sb as v,ub as f,wb as c}from"./chunk-5LW7SD5E.js";function D(t,a){if(t&1){let e=v();i(0,"div",4)(1,"div",5)(2,"p",6)(3,"strong"),o(4,"Full Name:"),n(),i(5,"span"),o(6),n()()(),i(7,"div",5)(8,"p",6)(9,"strong"),o(10,"Email:"),n(),i(11,"span"),o(12),n()()(),i(13,"div",5)(14,"p",6)(15,"strong"),o(16,"Password:"),n(),i(17,"span"),o(18,"********"),n()()(),i(19,"div",5)(20,"p",6)(21,"strong"),o(22,"Phone Number:"),n(),i(23,"span"),o(24),n()()()(),i(25,"div",7)(26,"button",8),f("click",function(){_(e);let m=c();return x(m.toggleEdit())}),u(27,"i",9),o(28,"Edit Profile "),n(),i(29,"button",10),f("click",function(){_(e);let m=c();return x(m.logout())}),u(30,"i",11),o(31,"Logout "),n()()}if(t&2){let e=c();r(6),C(e.userData.name),r(6),C(e.userData.email),r(12),C(e.userData.phoneNumber)}}function V(t,a){t&1&&(i(0,"div"),o(1,"Name is required."),n())}function q(t,a){t&1&&(i(0,"div"),o(1,"Name must be at least 3 characters."),n())}function I(t,a){t&1&&(i(0,"div"),o(1,"Name must be at most 30 characters."),n())}function G(t,a){if(t&1&&(i(0,"div",17),l(1,V,2,0,"div"),l(2,q,2,0,"div"),l(3,I,2,0,"div"),n()),t&2){let e=c(2);r(),d(!(e.name==null||e.name.errors==null)&&e.name.errors.required?1:-1),r(),d(!(e.name==null||e.name.errors==null)&&e.name.errors.minlength?2:-1),r(),d(!(e.name==null||e.name.errors==null)&&e.name.errors.maxlength?3:-1)}}function L(t,a){t&1&&(i(0,"div"),o(1,"Email is required."),n())}function Y(t,a){t&1&&(i(0,"div"),o(1,"Please enter a valid email."),n())}function B(t,a){if(t&1&&(i(0,"div",17),l(1,L,2,0,"div"),l(2,Y,2,0,"div"),n()),t&2){let e=c(2);r(),d(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:-1),r(),d(!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function R(t,a){t&1&&(i(0,"div"),o(1,"Password is required."),n())}function U(t,a){t&1&&(i(0,"div"),o(1,"Password must be at least 6 characters."),n())}function j(t,a){if(t&1&&(i(0,"div",17),l(1,R,2,0,"div"),l(2,U,2,0,"div"),n()),t&2){let e=c(2);r(),d(!(e.password==null||e.password.errors==null)&&e.password.errors.required?1:-1),r(),d(!(e.password==null||e.password.errors==null)&&e.password.errors.minlength?2:-1)}}function J(t,a){t&1&&(i(0,"div"),o(1,"Phone number is required."),n())}function $(t,a){t&1&&(i(0,"div"),o(1,"Please enter a valid Egyptian phone number (01xxxxxxxxx)."),n())}function z(t,a){if(t&1&&(i(0,"div",17),l(1,J,2,0,"div"),l(2,$,2,0,"div"),n()),t&2){let e=c(2);r(),d(!(e.phoneNumber==null||e.phoneNumber.errors==null)&&e.phoneNumber.errors.required?1:-1),r(),d(!(e.phoneNumber==null||e.phoneNumber.errors==null)&&e.phoneNumber.errors.pattern?2:-1)}}function H(t,a){if(t&1){let e=v();i(0,"form",12),f("ngSubmit",function(){_(e);let m=c();return x(m.saveChanges())}),i(1,"div",13)(2,"div",14)(3,"label",15),o(4,"Full Name"),n(),u(5,"input",16),l(6,G,4,3,"div",17),n(),i(7,"div",14)(8,"label",15),o(9,"Email"),n(),u(10,"input",18),l(11,B,3,2,"div",17),n(),i(12,"div",19)(13,"label",15),o(14,"Password"),n(),i(15,"div",20),u(16,"input",21),i(17,"button",22),f("click",function(){_(e);let m=c();return x(m.showPassword=!m.showPassword)}),u(18,"i",23),n()(),l(19,j,3,2,"div",17),n(),i(20,"div",14)(21,"label",15),o(22,"Phone Number"),n(),u(23,"input",24),l(24,z,3,2,"div",17),n()(),i(25,"div",25)(26,"button",26),o(27,"Save Changes"),n(),i(28,"button",27),f("click",function(){_(e);let m=c();return x(m.toggleEdit())}),o(29,"Cancel"),n()()()}if(t&2){let e=c();g("formGroup",e.accountForm),r(6),d(e.name!=null&&e.name.touched&&(e.name!=null&&e.name.invalid)?6:-1),r(5),d(e.email!=null&&e.email.touched&&(e.email!=null&&e.email.invalid)?11:-1),r(5),g("type",e.showPassword?"text":"password"),r(2),g("ngClass",e.showPassword?"fa-eye":"fa-eye-slash"),r(),d(e.password!=null&&e.password.touched&&(e.password!=null&&e.password.invalid)?19:-1),r(5),d(e.phoneNumber!=null&&e.phoneNumber.touched&&(e.phoneNumber!=null&&e.phoneNumber.invalid)?24:-1),r(2),g("disabled",e.accountForm.invalid)}}var k=class t{constructor(a,e){this.router=a;this.fb=e}userData;accountForm;editMode=!1;showPassword=!1;showConfirmPassword=!1;ngOnInit(){let a=localStorage.getItem("userData");this.userData=a?JSON.parse(a):null,this.accountForm=this.fb.group({name:[this.userData?.name||"",[s.required,s.minLength(3),s.maxLength(30)]],email:[this.userData?.email||"",[s.required,s.email]],password:[this.userData?.password||"",[s.required,s.minLength(6)]],confirmPassword:[this.userData?.confirmPassword||"",[s.required,s.minLength(6)]],phoneNumber:[this.userData?.phoneNumber||"",[s.required,s.pattern(/^01[0-9]{9}$/)]]})}get name(){return this.accountForm.get("name")}get email(){return this.accountForm.get("email")}get password(){return this.accountForm.get("password")}get confirmPassword(){return this.accountForm.get("confirmPassword")}get phoneNumber(){return this.accountForm.get("phoneNumber")}toggleEdit(){this.editMode=!this.editMode}saveChanges(){if(this.accountForm.valid){let a=this.accountForm.value;localStorage.clear(),localStorage.setItem("userData",JSON.stringify(a)),this.userData=a,this.editMode=!1}}logout(){this.router.navigateByUrl("/login")}static \u0275fac=function(e){return new(e||t)(b(S),b(O))};static \u0275cmp=h({type:t,selectors:[["app-account"]],decls:6,vars:1,consts:[[1,"container","mt-5"],[1,"card","account-card","p-4","shadow-lg","rounded-4"],[1,"text-center","mb-4","fw-bold","title"],[3,"formGroup"],[1,"row","g-3","mb-4"],[1,"col-12","info-row"],[1,"fs-5"],[1,"d-grid","gap-3"],[1,"btn","btn-edit",3,"click"],[1,"fa","fa-edit","me-2"],[1,"btn","btn-logout",3,"click"],[1,"fa","fa-sign-out","me-2"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"form-label","fw-semibold"],["type","text","formControlName","name","placeholder","Enter full name",1,"form-control","input-field"],[1,"text-danger","small","mt-1"],["type","email","formControlName","email","placeholder","Enter your email",1,"form-control","input-field"],[1,"col-12","position-relative"],[1,"input-group","input-group-password"],["formControlName","password","placeholder","Enter password",1,"form-control","input-field","border-end-0",3,"type"],["type","button",1,"btn","btn-outline-secondary","border-start-0","toggle-btn",3,"click"],[1,"fa",3,"ngClass"],["type","tel","formControlName","phoneNumber","placeholder","01xxxxxxxxx",1,"form-control","input-field"],[1,"d-grid","gap-3","mt-4"],["type","submit",1,"btn","btn-save",3,"disabled"],["type","button",1,"btn","btn-cancel",3,"click"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),o(3,"My Account"),n(),l(4,D,32,3)(5,H,30,8,"form",3),n()()),e&2&&(r(4),d(p.userData&&!p.editMode?4:5))},dependencies:[E,w,T,A,N,P,M,y,F],styles:[".account-card[_ngcontent-%COMP%]{background:#f8f9fa;border:none;box-shadow:0 10px 25px #0000001a;transition:transform .3s ease,box-shadow .3s ease;margin-top:110px}.account-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #00000026}.title[_ngcontent-%COMP%]{color:#343a40;letter-spacing:.5px}.input-field[_ngcontent-%COMP%]{border-radius:12px;padding:10px 15px;border:1px solid #ced4da;transition:.3s}.input-field[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 8px #0d6efd33;outline:none}.btn[_ngcontent-%COMP%]{font-weight:600;border-radius:10px;padding:12px 0;transition:all .3s ease}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(90deg,#0d6efd,#6610f2);color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0d6efd4d}.btn-logout[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-logout[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-2px)}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(90deg,#198754,#20c997);color:#fff}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #1987544d}.btn-cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.input-group-password[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{border-radius:0 12px 12px 0;cursor:pointer}"]})};export{k as Account};
